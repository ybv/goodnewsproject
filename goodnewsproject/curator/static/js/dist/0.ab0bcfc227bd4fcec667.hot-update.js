webpackHotUpdate(0,{

/***/ 127:
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _jquery = __webpack_require__(149);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getCookie = function getCookie(name) {\n  var cookieValue = null;\n  if (document.cookie && document.cookie != '') {\n    var cookies = document.cookie.split(';');\n    for (var i = 0; i < cookies.length; i++) {\n      var cookie = _jquery2.default.trim(cookies[i]);\n      // Does this cookie string begin with the name we want?\n      if (cookie.substring(0, name.length + 1) == name + '=') {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n};\n\nvar csrfSafeMethod = function csrfSafeMethod(method) {\n  // these HTTP methods do not require CSRF protection\n  return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method)\n  );\n};\n\n_jquery2.default.ajaxSetup({\n  beforeSend: function beforeSend(xhr, settings) {\n    if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n      xhr.setRequestHeader(\"X-CSRFToken\", getCookie('csrftoken'));\n    }\n  }\n});\n\nmodule.exports = {\n  CompleteRegistration: function CompleteRegistration(sha, password, first_name, last_name, username, cb) {\n    _jquery2.default.post('/curate/register-complete/' + sha + \"/\", { 'username': username, 'email_sha': sha, 'first_name': first_name, 'last_name': last_name, 'password': password }, function (data) {\n      if (data && data.success) {\n        localStorage.token = data.token;\n        if (cb) cb(true);\n      } else {\n        if (cb) cb(false, data.msg);\n      }\n    });\n  },\n  LoginCurator: function LoginCurator(email, pass, cb) {\n    cb = arguments[arguments.length - 1];\n    if (localStorage.token) {\n      if (cb) cb(true);\n      this.onChange(true);\n      return;\n    }\n    _jquery2.default.post(\"/curate/login-check/\", { 'email': email, 'password': pass }, function (data) {\n      console.log(data);\n      if (data && data.success) {\n        localStorage.token = data.token;\n        if (cb) cb(true);\n      } else {\n        if (cb) cb(false, data.msg);\n      }\n    });\n  },\n  getToken: function getToken() {\n    return localStorage.token;\n  },\n  logout: function logout(cb) {\n    delete localStorage.token;\n    if (cb) cb();\n    this.onChange(false);\n  },\n  loggedIn: function loggedIn() {\n    // coerce to boolean\n    return !!localStorage.token;\n  },\n  onChange: function onChange() {}\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2F1dGguanM/MDMxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknXG5jb25zdCBnZXRDb29raWUgPSBmdW5jdGlvbiAobmFtZSl7XG4gIHZhciBjb29raWVWYWx1ZSA9IG51bGw7XG4gIGlmIChkb2N1bWVudC5jb29raWUgJiYgZG9jdW1lbnQuY29va2llICE9ICcnKSB7XG4gICAgICB2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGNvb2tpZSA9ICQudHJpbShjb29raWVzW2ldKTtcbiAgICAgICAgICAvLyBEb2VzIHRoaXMgY29va2llIHN0cmluZyBiZWdpbiB3aXRoIHRoZSBuYW1lIHdlIHdhbnQ/XG4gICAgICAgICAgaWYgKGNvb2tpZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggKyAxKSA9PSAobmFtZSArICc9JykpIHtcbiAgICAgICAgICAgICAgY29va2llVmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZyhuYW1lLmxlbmd0aCArIDEpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJldHVybiBjb29raWVWYWx1ZTtcbn07XG5cbmNvbnN0IGNzcmZTYWZlTWV0aG9kID0gZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgLy8gdGhlc2UgSFRUUCBtZXRob2RzIGRvIG5vdCByZXF1aXJlIENTUkYgcHJvdGVjdGlvblxuICAgIHJldHVybiAoL14oR0VUfEhFQUR8T1BUSU9OU3xUUkFDRSkkLy50ZXN0KG1ldGhvZCkpO1xufTtcblxuJC5hamF4U2V0dXAoe1xuICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIsIHNldHRpbmdzKSB7XG4gICAgICBpZiAoIWNzcmZTYWZlTWV0aG9kKHNldHRpbmdzLnR5cGUpICYmICF0aGlzLmNyb3NzRG9tYWluKSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJYLUNTUkZUb2tlblwiLCBnZXRDb29raWUoJ2NzcmZ0b2tlbicpKTtcbiAgICAgIH1cbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBDb21wbGV0ZVJlZ2lzdHJhdGlvbihzaGEsIHBhc3N3b3JkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIHVzZXJuYW1lLCBjYil7XG4gICAgJC5wb3N0KCcvY3VyYXRlL3JlZ2lzdGVyLWNvbXBsZXRlLycrc2hhICtcIi9cIiwgeyd1c2VybmFtZScgOiB1c2VybmFtZSwgJ2VtYWlsX3NoYScgOiBzaGEsICdmaXJzdF9uYW1lJzogZmlyc3RfbmFtZSwgJ2xhc3RfbmFtZSc6IGxhc3RfbmFtZSwgJ3Bhc3N3b3JkJzogcGFzc3dvcmR9LFxuICAgIChkYXRhKSA9PntcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuc3VjY2Vzcyl7XG4gICAgICAgIGxvY2FsU3RvcmFnZS50b2tlbiA9IGRhdGEudG9rZW5cbiAgICAgICAgaWYgKGNiKSBjYih0cnVlKVxuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgaWYgKGNiKSBjYihmYWxzZSwgZGF0YS5tc2cpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICBMb2dpbkN1cmF0b3IoZW1haWwsIHBhc3MsIGNiKSB7XG4gICAgY2IgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdXG4gICAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbikge1xuICAgICAgaWYgKGNiKSBjYih0cnVlKVxuICAgICAgdGhpcy5vbkNoYW5nZSh0cnVlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgICQucG9zdChcIi9jdXJhdGUvbG9naW4tY2hlY2svXCIsIHsnZW1haWwnIDogZW1haWwsICdwYXNzd29yZCc6IHBhc3N9LFxuICAgIChkYXRhKSA9PntcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICBsb2NhbFN0b3JhZ2UudG9rZW4gPSBkYXRhLnRva2VuXG4gICAgICAgIGlmIChjYikgY2IodHJ1ZSlcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIGlmIChjYikgY2IoZmFsc2UsIGRhdGEubXNnKVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG5cblxuICBnZXRUb2tlbigpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnRva2VuXG4gIH0sXG5cbiAgbG9nb3V0KGNiKSB7XG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZS50b2tlblxuICAgIGlmIChjYikgY2IoKVxuICAgIHRoaXMub25DaGFuZ2UoZmFsc2UpXG4gIH0sXG5cbiAgbG9nZ2VkSW4oKSB7XG4gICAgLy8gY29lcmNlIHRvIGJvb2xlYW5cbiAgICByZXR1cm4gISFsb2NhbFN0b3JhZ2UudG9rZW5cbiAgfSxcblxuICBvbkNoYW5nZSgpIHt9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBhdXRoLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQURBO0FBSUE7QUFDQTtBQUZBO0FBSEE7QUFGQTtBQVdBO0FBYkE7QUFDQTtBQWVBOztBQUVBO0FBRkE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBREE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFMQTtBQURBO0FBSEE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBTEE7QUFGQTtBQXRCQTtBQW1DQTtBQUNBO0FBcENBO0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBMUNBO0FBNkNBOztBQUVBO0FBL0NBO0FBa0RBO0FBbERBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }

})